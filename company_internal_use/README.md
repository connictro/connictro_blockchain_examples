# Connictro Blockchain Company-internal use Example

This is an example to demonstrate usage of the Connictro Blockchain platform for the purpose of time reporting, 
as company-internal use (or use by consultants/freelancers) to book time on projects worked.
The demo is based on the Voucher example (see permit_voucher folder), as it needs a Voucher MO (populated with
both "Life" and "Value"). It should however better be created by the Dashboard UI since "value" should be supplied
with a higher amount (e.g. about 2000...5000 per year).

This example does not need any modules running on the web server itself, it just consists of static HTML, CSS and
Javascript files, running in the browser only. Instead of a web server, it can also be deployed in a local folder.

## Full documentation
To see the complete Licensee manual, please sign up for a Connictro Blockchain Trial license. The demos show only
a small subset of the platform's capabilities. 

## Installation
1. If not already done, sign up for a Connictro Blockchain Trial (or commercial) license. You'll receive credentials for
   production and development services, access to Licensee Dashboard and documentation.
   
2. First copy the permit_voucher example repository contents into a subdirectory of your web server.
   It contains some common files needed by both examples. 

3. Then copy the "company_internal_use" example repository contents into the same subdirectory. It will add a few files.

4. Get third-party components and copy them into the "js/thirdparty" subdirectory:

   a) [jQuery](https://code.jquery.com/jquery-3.6.0.min.js)
     
   b) [QRCode.js](https://github.com/davidshimjs/qrcodejs) - and copy qrcode.min.js
   
   c) [DataTables with PDFMake](https://datatables.net/download/) - 
      Select DataTables, and in the Extensions section select "Buttons", "HTML5 export", "JSZip", "pdfmake" and "Print view".
      In the download section (Step 3) select Tab "Download", then download "datatables.min.js" and "datatables.min.css".
      Copy "datatables.min.js" to js/thirdparty and "datatables.min.css" to the css subdirectory.

     
5. It is recommended to create a sub-licensee using your development licensee credentials received in step 1
   (with sufficient supply of life and value), using the dashboard. Don't use production credentials for the demo, but
   you may use production credentials if you actually plan to use it as tool for your business - development blockchains
   will disappear after a while and therefore cannot be used to serve as fraud-proof database.

   Save the .json file of the created sub-licensee on your local drive (not on the web server), it should not be 
   accessible by anybody other than you.
   
6. Using this sub-licensee, log in to the Dashboard UI, and create an end user with 7 life and sufficient value (e.g. 5000 allows
   more than 20 start/stop records per usual working day). Fields are not yet needed to be defined, the demo itself allows to
   create these while using. Optionally you might want to define an expiration timer, e.g. to expire by the end of the calendar
   year or after a certain time of usage. Provision the new end user from the Dashboard UI (= decrease its life to state 
   6 "Provisioned").

7. Modify js/genericConvertQrMain.js line 32
   const gTargetUrlStart  = "https://www.connictro.de/bc-examples/companyInternalExample.html?";
   to point to your web server instead.
      
     ```

## Running the demo
Call [your server URL]/[your example subdirectory]/generic_cb-creds_to_qrcode.html .
Specify the blockchain service you're running on and load the credentials file stored in step 6 above.
The little tool will convert the file to an URL which can be used with the example (both as printable URL and as QR code
to be used with mobile devices).

Then call the URL generated by the QR-code converter above.

First the object is provisioned and the only option available is to activate it.
After activation, the project list is empty. Add a few projects you're working on and need to report time for.
Once the project list is populated, a project can be selected and time recording started. Optionally a short comment can
be added. Working time for the project is now running.
During project work, the name of the project is displayed and a Stop button adjacent to it. 
To change work to a different project, just start a different project (with optional comment). The stop record will auto-
matically be written.
To just stop measurement (e.g. going to lunch, leave office in the evening, or performing work which is not tracked), just hit
the Stop button.
Should Stop have been forgotten, it is possible to enable "Different stop time" and enter a time which should be recorded as
stop time instead.
Once the first recording has finished (by start and stop or change), the report is available.
It can be viewed, or exported to clipboard, CSV, Excel (also LibreOffice), PDF or sent to the printer. The DataTables component
also allows to filter, limit or extend the amount of records displayed, or sort the columns.
Should the end user MO be depleted (used up all value, or an optional timer has advanced life to "Depleted"), the report can
still be viewed and exported. It is however not possible anymore to make transactions (book time).
